P = [0.133, 0.736, 0.578, 0.538, 0.48, 0.652, 0.352, 0.346, 0.147];
h = [552.99, 652.3, 643.18, 640.3, 635.82, 311.46, 288.33, 288.33, 556.41];
P_sat = [0.15696, 0.16259, 0.16839, 0.17434, 0.18045, 0.18672, 0.19316, 0.19976, 0.20654, 0.21349, 0.22061, 0.22792, 0.23541, 0.24308, 0.25094, 0.25899, 0.26724, 0.27568, 0.28432, 0.29317, 0.30222, 0.31148, 0.32095, 0.33064, 0.34054, 0.35067, 0.36102, 0.3716, 0.3824, 0.39344, 0.40472, 0.41624, 0.428, 0.44001, 0.45226, 0.46477, 0.47753, 0.49055, 0.50384, 0.51739, 0.53121, 0.5453, 0.55966, 0.57431, 0.58923, 0.60444, 0.61994, 0.63574, 0.65182, 0.66821, 0.6849, 0.70189, 0.71919, 0.73681, 0.75474, 0.77299, 0.79156, 0.81046, 0.82969, 0.84926, 0.86916, 0.8894, 0.90999, 0.93092, 0.95221, 0.97385, 0.99586, 1.0182, 1.041, 1.0641, 1.0875, 1.1114, 1.1356, 1.1603, 1.1853, 1.2107, 1.2365, 1.2627, 1.2893, 1.3163, 1.3438, 1.3716, 1.3999, 1.4286, 1.4578, 1.4874, 1.5174, 1.5478, 1.5788, 1.6101, 1.642, 1.6742, 1.707, 1.7402, 1.7739, 1.8081, 1.8428, 1.878, 1.9137, 1.9498, 1.9865, 2.0237, 2.0614, 2.0997, 2.1385, 2.1778, 2.2176, 2.258, 2.299, 2.3405, 2.3826, 2.4253, 2.4685, 2.5124, 2.5568, 2.6019, 2.6476, 2.6939, 2.7408, 2.7884, 2.8366, 2.8855, 2.9351, 2.9854, 3.0363, 3.088, 3.1404, 3.1936, 3.2475, 3.3023, 3.3578, 3.4142, 3.4715, 3.5298, 3.5891, 3.5891, 3.5298, 3.4715, 3.4142, 3.3578, 3.3023, 3.2475, 3.1936, 3.1404, 3.088, 3.0363, 2.9854, 2.9351, 2.8855, 2.8366, 2.7884, 2.7408, 2.6939, 2.6476, 2.6019, 2.5568, 2.5124, 2.4685, 2.4253, 2.3826, 2.3405, 2.299, 2.258, 2.2176, 2.1778, 2.1385, 2.0997, 2.0614, 2.0237, 1.9865, 1.9498, 1.9137, 1.878, 1.8428, 1.8081, 1.7739, 1.7402, 1.707, 1.6742, 1.642, 1.6101, 1.5788, 1.5478, 1.5174, 1.4874, 1.4578, 1.4286, 1.3999, 1.3716, 1.3438, 1.3163, 1.2893, 1.2627, 1.2365, 1.2107, 1.1853, 1.1603, 1.1356, 1.1114, 1.0875, 1.0641, 1.041, 1.0182, 0.99586, 0.97385, 0.95221, 0.93092, 0.90999, 0.8894, 0.86916, 0.84926, 0.82969, 0.81046, 0.79156, 0.77299, 0.75474, 0.73681, 0.71919, 0.70189, 0.6849, 0.66821, 0.65182, 0.63574, 0.61994, 0.60444, 0.58923, 0.57431, 0.55966, 0.5453, 0.53121, 0.51739, 0.50384, 0.49055, 0.47753, 0.46477, 0.45226, 0.44001, 0.428, 0.41624, 0.40472, 0.39344, 0.3824, 0.3716, 0.36102, 0.35067, 0.34054, 0.33064, 0.32095, 0.31148, 0.30222, 0.29317, 0.28432, 0.27568, 0.26724, 0.25899, 0.25094, 0.24308, 0.23541, 0.22792, 0.22061, 0.21349, 0.20654, 0.19976, 0.19316, 0.18672, 0.18045, 0.17434, 0.16839, 0.16259, 0.15696];
h_sat = [200.0, 202.29, 204.59, 206.89, 209.19, 211.5, 213.82, 216.14, 218.47, 220.81, 223.15, 225.5, 227.85, 230.21, 232.57, 234.94, 237.32, 239.7, 242.09, 244.48, 246.88, 249.29, 251.7, 254.12, 256.55, 258.98, 261.42, 263.86, 266.32, 268.78, 271.24, 273.71, 276.19, 278.68, 281.17, 283.67, 286.18, 288.69, 291.22, 293.74, 296.28, 298.82, 301.37, 303.93, 306.5, 309.07, 311.65, 314.24, 316.84, 319.45, 322.06, 324.68, 327.31, 329.95, 332.6, 335.25, 337.91, 340.59, 343.27, 345.96, 348.66, 351.36, 354.08, 356.81, 359.55, 362.29, 365.05, 367.81, 370.59, 373.37, 376.17, 378.98, 381.79, 384.62, 387.46, 390.31, 393.17, 396.04, 398.93, 401.82, 404.73, 407.65, 410.59, 413.53, 416.49, 419.46, 422.45, 425.45, 428.47, 431.49, 434.54, 437.6, 440.67, 443.77, 446.87, 450.0, 453.14, 456.3, 459.49, 462.68, 465.9, 469.14, 472.41, 475.69, 479.0, 482.33, 485.69, 489.07, 492.48, 495.92, 499.39, 502.89, 506.43, 510.0, 513.61, 517.26, 520.96, 524.7, 528.5, 532.35, 536.26, 540.24, 544.29, 548.43, 552.66, 557.01, 561.47, 566.09, 570.9, 575.93, 581.25, 586.99, 593.34, 600.76, 610.83, 659.61, 667.88, 672.64, 675.96, 678.44, 680.36, 681.88, 683.09, 684.06, 684.81, 685.4, 685.84, 686.15, 686.36, 686.46, 686.47, 686.41, 686.27, 686.07, 685.81, 685.49, 685.12, 684.7, 684.24, 683.74, 683.2, 682.62, 682.01, 681.37, 680.7, 680.0, 679.27, 678.52, 677.74, 676.94, 676.11, 675.27, 674.4, 673.52, 672.62, 671.7, 670.76, 669.81, 668.84, 667.86, 666.86, 665.85, 664.82, 663.78, 662.73, 661.67, 660.6, 659.51, 658.42, 657.31, 656.2, 655.07, 653.94, 652.79, 651.64, 650.48, 649.31, 648.14, 646.96, 645.77, 644.57, 643.36, 642.15, 640.94, 639.72, 638.49, 637.26, 636.02, 634.78, 633.53, 632.28, 631.02, 629.76, 628.49, 627.22, 625.95, 624.67, 623.39, 622.11, 620.82, 619.53, 618.24, 616.94, 615.64, 614.34, 613.04, 611.73, 610.43, 609.11, 607.8, 606.49, 605.17, 603.85, 602.53, 601.21, 599.88, 598.56, 597.23, 595.9, 594.57, 593.24, 591.91, 590.57, 589.24, 587.9, 586.56, 585.23, 583.89, 582.55, 581.21, 579.87, 578.52, 577.18, 575.84, 574.5, 573.15, 571.81, 570.47, 569.12, 567.78, 566.43, 565.09, 563.74, 562.4, 561.06, 559.71, 558.37, 557.02, 555.68, 554.34];

P_ideal = [0.133, 0.736, 0.736, 0.133, 0.133];
h_ideal = [552.99, 618.32, 328.5, 328.5, 552.99];

hold on
% plot the actual cycle with thick line
plot(h, P, 'LineWidth', 2)
plot(h, P, 'o')
plot(h_sat, P_sat)
% plot the ideal cycle using dash line
plot(h_ideal, P_ideal, '--', 'LineWidth', 2)
title('P-h Diagram for refrigeration cycle')
xlabel('Enthalpy (kJ/kg)')
ylabel('Pressure (MPa)')
legend('Actual cycle', 'Actual cycle data points', 'Saturation Line', 'Ideal cycle', "Location", "northwest")
